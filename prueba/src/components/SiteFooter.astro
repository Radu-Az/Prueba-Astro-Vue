---
/*
  Footer global:
  - Mantiene navegación, legal y comunidad.
  - Ajusta rutas según idioma.
*/
import type { AppLang } from "../i18n/languages";
import { toLocalizedPath } from "../i18n/languages";

interface FooterCopy {
  description: string;
  navTitle: string;
  studioTitle: string;
  communityTitle: string;
  legal: {
    privacy: string;
    terms: string;
    notice: string;
  };
  copyright: string;
}

interface SiteFooterProps {
  lang: AppLang;
  copy: FooterCopy;
}

const { lang = "es", copy } = Astro.props as SiteFooterProps;

const navigationLabelsByLang = {
  es: ["Inicio", "Servicios", "Contacto"],
  en: ["Home", "Services", "Contact"],
  pt: ["Início", "Serviços", "Contato"],
  ca: ["Inici", "Serveis", "Contacte"],
  fr: ["Accueil", "Services", "Contact"],
  eu: ["Hasiera", "Zerbitzuak", "Kontaktua"],
};

const footerLinkGroups = {
  navigation: [
    { label: navigationLabelsByLang[lang][0], href: toLocalizedPath("/", lang) },
    { label: navigationLabelsByLang[lang][1], href: toLocalizedPath("/servicios", lang) },
    { label: navigationLabelsByLang[lang][2], href: toLocalizedPath("/contacto", lang) },
  ],
  legal: [
    { label: copy.legal.privacy, href: "#" },
    { label: copy.legal.terms, href: "#" },
    { label: copy.legal.notice, href: "#" },
  ],
  community: [
    { label: "LinkedIn", href: "#" },
    { label: "Behance", href: "#" },
    { label: "Dribbble", href: "#" },
  ],
};

const year = String(new Date().getFullYear());
---

<footer class="border-t border-slate-800 bg-slate-950 text-slate-300">
  <div class="mx-auto max-w-6xl px-6 py-14 lg:px-8">
    <div class="grid gap-10 md:grid-cols-2 lg:grid-cols-4">
      <div class="md:col-span-2 lg:col-span-1">
        <p class="text-xl font-semibold text-white">Orbit Web Studio</p>
        <p class="mt-3 max-w-xs text-sm leading-relaxed text-slate-400">{copy.description}</p>
      </div>

      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-slate-400">{copy.navTitle}</p>
        <ul class="mt-4 space-y-2.5">
          {
            footerLinkGroups.navigation.map((linkItem) => (
              <li>
                <a href={linkItem.href} class="text-sm transition hover:text-white">
                  {linkItem.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-slate-400">{copy.studioTitle}</p>
        <ul class="mt-4 space-y-2.5">
          {
            footerLinkGroups.legal.map((linkItem) => (
              <li>
                <a href={linkItem.href} class="text-sm transition hover:text-white">
                  {linkItem.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-slate-400">{copy.communityTitle}</p>
        <ul class="mt-4 space-y-2.5">
          {
            footerLinkGroups.community.map((linkItem) => (
              <li>
                <a href={linkItem.href} class="text-sm transition hover:text-white">
                  {linkItem.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </div>

    <div class="mt-10 border-t border-slate-800 pt-6 text-center text-sm text-slate-500">
      {copy.copyright.replace("{year}", year)}
    </div>
  </div>
</footer>

